/* -*-c-*- *********************************************************/
/*******************************************************************/
/*******************************************************************/
/**
  This file is VM main loop.

  ----
  This file is auto generated by insns2vm.rb
  DO NOT TOUCH!

  If you want to fix something, you must edit 'insns.def'
 */


% line = _erbout.count("\n") + 1
% @insns.each do |insn|
<%
line += 1
make_insn_def(insn).split(/(__CURRENT_LINE__|__CURRENT_FILE__)/).each {|e|
  %><%=
  case e
  when '__CURRENT_LINE__'
    line.to_s
  when '__CURRENT_FILE__'
    "vm.inc"
  else
    line += e.count("\n")
    e
  end
  %><%
}
%>
% end

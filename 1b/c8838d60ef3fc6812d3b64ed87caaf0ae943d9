Merged: https://github.com/ruby/ruby/pull/8003

Merged-By: jeremyevans <code@jeremyevans.net>

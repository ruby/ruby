name: MJIT
on: [push, pull_request]
jobs:
  make:
    strategy:
      matrix:
        test_task: [ "check" ] # to make job names consistent
      fail-fast: false
    runs-on: ubuntu-latest
    if: "!contains(github.event.head_commit.message, '[ci skip]')"
    env:
      TESTOPTS: '-q --tty=no'
      RUN_OPTS: '--disable-gems ${{ matrix.jit_opts }} --jit-debug=-ggdb3'
      GITPULLOPTIONS: --no-tags origin ${{github.ref}}
    steps:
      - run: gdb -h

defaults:
  run:
    working-directory: build
